<div class="youtube-admin-container">
  <h2>Gerenciador de Widgets do YouTube</h2>
  <p class="description">
    Este painel permite adicionar, editar e remover widgets do YouTube (v√≠deos, canais ou playlists)
    que ser√£o exibidos na aplica√ß√£o. Preencha os dados e gerencie sua lista com facilidade.
  </p>

  <div class="dashboard-grid">
    <!-- üßæ Formul√°rio -->
    <form [formGroup]="widgetForm" (ngSubmit)="onSubmit()" class="widget-form">
      <mat-form-field appearance="outline">
        <mat-label>T√≠tulo</mat-label>
        <input matInput formControlName="titulo" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Tipo</mat-label>
        <mat-select formControlName="tipo" required>
          <mat-option value="video">V√≠deo</mat-option>
          <mat-option value="canal">Canal</mat-option>
          <mat-option value="playlist">Playlist</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>ID do YouTube ou URL</mat-label>
        <input matInput formControlName="youtubeId" (blur)="onYoutubeIdBlur()" required />
      </mat-form-field>
      

      <div class="form-buttons">
        <button mat-raised-button color="primary" type="submit">
          {{ editMode ? 'Atualizar' : 'Adicionar' }}
        </button>
        <button *ngIf="editMode" mat-stroked-button color="warn" type="button" (click)="cancelEdit()">
          Cancelar
        </button>
      </div>
    </form>

    <!-- üé• Lista de v√≠deos -->
    <div class="widget-list">
      <h3>Widgets adicionados</h3>
      <mat-list>
        <mat-list-item *ngFor="let widget of widgets">
          <div class="item-content">
            <h4>{{ widget.titulo }}</h4>
            <p><strong>Tipo:</strong> {{ widget.tipo }} | <strong>ID:</strong> {{ widget.youtubeId }}</p>
          </div>

          <button mat-icon-button color="primary" (click)="editWidget(widget)">
            <mat-icon>edit</mat-icon>
          </button>

          <button mat-icon-button color="warn" (click)="deleteWidget(widget.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </mat-list-item>
      </mat-list>
    </div>
  </div>
</div>
