<div class="noticia-container mat-elevation-z4">
  <mat-card class="noticia-card">
    <div class="cabecalho-pagina">
      <h2 class="nome-categoria">{{ infosPostagem.nomeCategoria }}</h2>
      <button *ngIf="isLoggedIn && acessarEditarNoticia()" class="botao-editar" mat-raised-button color="primary" (click)="editarNoticia()">
        EDITAR
      </button>
    </div>
    
    <mat-card-header class="cabecalho-noticia">
      <div class="titulo-container">
        <mat-card-title class="noticia-titulo">
          {{ infosPostagem.titulo }}
        </mat-card-title>
        <mat-card-subtitle class="noticia-subtitulo">
          {{ infosPostagem.descricao }}
        </mat-card-subtitle>
        <div class="data-criacao">
          <p><strong>Publicado em:</strong> {{ infosPostagem.dataCriacao | date: 'dd/MM/yyyy - HH:mm' }}</p>
        </div>
      </div>
    </mat-card-header>

    <div class="imagem-da-noticia">
      <img mat-card-image src="{{ infosPostagem.imagem }}" alt="Imagem da Notícia" class="noticia-imagem" />
    </div>
    
    <!-- Botões de Controle -->
    <div class="botoes-controle">
      <button
        mat-raised-button
        [ngClass]="{ 'botao-selecionado': textoSelecionado === 'ia' }"
        (click)="mostrarTexto('ia')">
        Escrito por Veritare
      </button>
      <button
        mat-raised-button
        [ngClass]="{ 'botao-selecionado': textoSelecionado === 'humano' }"
        color="accent"
        (click)="mostrarTexto('humano')">
        Notícia Original
      </button>
    </div>

    <!-- Conteúdo IA -->
    <div *ngIf="textoSelecionado === 'ia'">
      <h2>Escrito por Veritare</h2>
      <mat-card-content>
        <quill-view
          class="noticia-conteudo"
          [content]="infosPostagem.textoAlteradoPorIA">
        </quill-view>
      </mat-card-content>

      <h2>Comentários Veritare</h2>
      <mat-card-content>
        <quill-view
          class="noticia-conteudo"
          [content]="infosPostagem.palavrasRetiradasPorIA">
        </quill-view>
      </mat-card-content>
    </div>

    <!-- Conteúdo Humano -->
    <div *ngIf="textoSelecionado === 'humano'">
      <mat-card-content>
        <quill-view
          class="noticia-conteudo"
          [content]="infosPostagem.conteudo">
        </quill-view>
      </mat-card-content>
    </div>

    <mat-card-actions class="botoes-de-envio">
      <button class="botao" color="primary">Compartilhar</button>
    </mat-card-actions>

    <!-- Notícias Relacionadas -->
    <div class="lista-noticias-relacionadas">
      <mat-card class="noticias-relacionadas-card">
        <h2>Notícias Relacionadas</h2>
        <mat-list class="noticias-relacionadas-list">
          <mat-list-item *ngFor="let noticia of noticiasRelacionadas | slice:0:5">
            <a [routerLink]="['/noticia', noticia.idPostagem]" class="noticia-link">
              {{ noticia.titulo }}
            </a>
          </mat-list-item>
        </mat-list>
      </mat-card>
    </div>

    <img src="assets/images/veritare-assine.png" alt="imagem-assine" class="imagem-assine">

  </mat-card>
</div>
